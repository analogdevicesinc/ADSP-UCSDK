From 6379e460ce55ce510c6b08045de1d21478b67030 Mon Sep 17 00:00:00 2001
From: Harvin Almeida <harvin.almeida@analog.com>
Date: Mon, 18 Dec 2023 14:25:58 -0600
Subject: [PATCH] 5_15 SC573 configure gptimer on TMR5 and PC15

---
 arch/arm/boot/dts/sc573-ezkit.dts | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/arch/arm/boot/dts/sc573-ezkit.dts b/arch/arm/boot/dts/sc573-ezkit.dts
index 934cc60371a3..b2422d9d18f7 100644
--- a/arch/arm/boot/dts/sc573-ezkit.dts
+++ b/arch/arm/boot/dts/sc573-ezkit.dts
@@ -121,6 +121,13 @@ sound {
 	};
 };
 
+&gptimer_counter {
+	/* enable PC_15 to work as TIMER0_TMR5 */
+	pinctrl-names = "default";
+	pinctrl-0 = <&extclkin_default>;
+	status = "okay";
+};
+
 &tru {
 	mcapi_to_a5: channel@0 {
 		adi,tru-master-id = <70>; /* trigger master SOFT3 */
@@ -513,6 +520,11 @@ &sram_mmap {
 };
 
 &pinctrl0 {
+	extclkin_default: extclkin_default_pins {
+		pins {
+			pinmux = <ADI_ADSP_PINMUX('C', 15, ADI_ADSP_PINFUNC_ALT3)>;
+		};
+	};
 	uart0_default: uart0_default_pins {
 		pins {
 			pinmux = <ADI_ADSP_PINMUX('F', 8, ADI_ADSP_PINFUNC_ALT0)>,
-- 
2.25.1

